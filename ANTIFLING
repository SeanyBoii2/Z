local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local speaker = Players.LocalPlayer

-- Function to disable collisions for a player's character
local function disableCollisions(char)
	for _, v in pairs(char:GetDescendants()) do
		if v:IsA("BasePart") then
			v.CanCollide = false
		end
	end

	-- Keep new parts from re-enabling collisions
	char.DescendantAdded:Connect(function(v)
		if v:IsA("BasePart") then
			v.CanCollide = false
		end
	end)
end

-- Apply to all current players except yourself
for _, player in pairs(Players:GetPlayers()) do
	if player ~= speaker then
		if player.Character then
			disableCollisions(player.Character)
		end
		player.CharacterAdded:Connect(disableCollisions)
	end
end

-- Handle players who join later
Players.PlayerAdded:Connect(function(player)
	if player ~= speaker then
		player.CharacterAdded:Connect(disableCollisions)
	end
end)
